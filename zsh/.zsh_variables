# detect operating system
case "$OSTYPE" in
darwin*)
    # brew
    export PATH="/opt/homebrew/bin:/opt/homebrew/sbin:$PATH"

    # nvim
    export EDITOR="/usr/local/bin/nvim"
    export VISUAL="/usr/local/bin/nvim"

    # matlab
    export PATH="$PATH:/Applications/MATLAB_R2022a.app/bin"

    # allows Coreutils package to be used without 'g' prefix before each command.
    export PATH="$(brew --prefix)/opt/coreutils/libexec/gnubin:$PATH"
    export MANPATH="$(brew --prefix)/opt/coreutils/libexec/gnuman:$MANPATH"

    # binutils
    export PATH="$(brew --prefix)/opt/binutils/bin:$PATH"
    export LDFLAGS="-L$(brew --prefix)/opt/binutils/lib"
    export CPPFLAGS="-I$(brew --prefix)/opt/binutils/include"

    # tar
    export PATH="$(brew --prefix)/opt/gnu-tar/libexec/gnubin:$PATH"
    export MANPATH="$(brew --prefix)/opt/gnu-tar/libexec/gnuman:$MANPATH"

    # sed
    export PATH="$(brew --prefix)/opt/gnu-sed/libexec/gnubin:$PATH"
    export MANPATH="$(brew --prefix)/opt/gnu-sed/libexec/gnuman:$PATH"

    # latex
    export PATH="/Library/TeX/texbin:$PATH"

    # perl
    eval "$(perl -I$HOME/perl5/lib/perl5 -Mlocal::lib=$HOME/perl5)"

    # sharkdp/fd for junegunn/fzf
    export FZF_DEFAULT_COMMAND='fd --type f --hidden --follow --exclude .git --color=always'
    ;;
linux*)
    # nvim
    export EDITOR="/usr/bin/nvim"
    export VISUAL="/usr/bin/nvim"

    # sharkdp/fd for junegunn/fzf
    export FZF_DEFAULT_COMMAND='fdfind --type f --hidden --follow --exclude .git --color=always'
    ;;
esac

# sharkdp/fd for junegunn/fzf
export FZF_CTRL_T_COMMAND='$FZF_DEFAULT_COMMAND'
export FZF_DEFAULT_OPTS='--ansi'

# Install in .local directory
export PATH="$HOME/.local/bin:$PATH"

# rust
export PATH="$HOME/.cargo/bin:$PATH"

# asdf java
[[ -f ~/.asdf ]] && source ~/.asdf/plugins/java/set-java-home.zsh
